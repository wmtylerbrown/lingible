//
// QuizAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation
#if canImport(AnyCodable)
import AnyCodable
#endif

open class QuizAPI {

    /**
     Submit answer for one question (stateless API)

     - parameter quizAnswerRequest: (body)
     - parameter apiResponseQueue: The queue on which api response is dispatched.
     - parameter completion: completion handler to receive the data and the error objects
     */
    @discardableResult
    open class func quizAnswerPost(quizAnswerRequest: QuizAnswerRequest, apiResponseQueue: DispatchQueue = LingibleAPIAPI.apiResponseQueue, completion: @escaping ((_ data: QuizAnswerResponse?, _ error: Error?) -> Void)) -> RequestTask {
        return quizAnswerPostWithRequestBuilder(quizAnswerRequest: quizAnswerRequest).execute(apiResponseQueue) { result in
            switch result {
            case let .success(response):
                completion(response.body, nil)
            case let .failure(error):
                completion(nil, error)
            }
        }
    }

    /**
     Submit answer for one question (stateless API)
     - POST /quiz/answer
     - Submit an answer for a single question and receive immediate feedback with running statistics.  **Response includes:** - Whether the answer was correct - Points earned (time-based scoring) - Explanation of the correct answer - Running statistics (score, accuracy, time spent)  **Scoring:** - Points decrease based on time taken (faster = more points) - Maximum 10 points per question - Minimum 1 point even if timer expires - Incorrect answers earn 0 points
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter quizAnswerRequest: (body)
     - returns: RequestBuilder<QuizAnswerResponse>
     */
    open class func quizAnswerPostWithRequestBuilder(quizAnswerRequest: QuizAnswerRequest) -> RequestBuilder<QuizAnswerResponse> {
        let localVariablePath = "/quiz/answer"
        let localVariableURLString = LingibleAPIAPI.basePath + localVariablePath
        let localVariableParameters = JSONEncodingHelper.encodingParameters(forEncodableObject: quizAnswerRequest)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: Any?] = [
            "Content-Type": "application/json",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<QuizAnswerResponse>.Type = LingibleAPIAPI.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true)
    }

    /**
     End quiz session and get final results (stateless API)

     - parameter quizEndRequest: (body)
     - parameter apiResponseQueue: The queue on which api response is dispatched.
     - parameter completion: completion handler to receive the data and the error objects
     */
    @discardableResult
    open class func quizEndPost(quizEndRequest: QuizEndRequest, apiResponseQueue: DispatchQueue = LingibleAPIAPI.apiResponseQueue, completion: @escaping ((_ data: QuizResult?, _ error: Error?) -> Void)) -> RequestTask {
        return quizEndPostWithRequestBuilder(quizEndRequest: quizEndRequest).execute(apiResponseQueue) { result in
            switch result {
            case let .success(response):
                completion(response.body, nil)
            case let .failure(error):
                completion(nil, error)
            }
        }
    }

    /**
     End quiz session and get final results (stateless API)
     - POST /quiz/end
     - End the current quiz session and receive final results. Saves the session to history for lifetime statistics tracking.  **Post-End Actions:** - Session marked as completed - Results saved to quiz history - Statistics aggregated for user profile - Shareable result text generated
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter quizEndRequest: (body)
     - returns: RequestBuilder<QuizResult>
     */
    open class func quizEndPostWithRequestBuilder(quizEndRequest: QuizEndRequest) -> RequestBuilder<QuizResult> {
        let localVariablePath = "/quiz/end"
        let localVariableURLString = LingibleAPIAPI.basePath + localVariablePath
        let localVariableParameters = JSONEncodingHelper.encodingParameters(forEncodableObject: quizEndRequest)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: Any?] = [
            "Content-Type": "application/json",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<QuizResult>.Type = LingibleAPIAPI.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true)
    }

    /**
     Get quiz history and eligibility

     - parameter apiResponseQueue: The queue on which api response is dispatched.
     - parameter completion: completion handler to receive the data and the error objects
     */
    @discardableResult
    open class func quizHistoryGet(apiResponseQueue: DispatchQueue = LingibleAPIAPI.apiResponseQueue, completion: @escaping ((_ data: QuizHistory?, _ error: Error?) -> Void)) -> RequestTask {
        return quizHistoryGetWithRequestBuilder().execute(apiResponseQueue) { result in
            switch result {
            case let .success(response):
                completion(response.body, nil)
            case let .failure(error):
                completion(nil, error)
            }
        }
    }

    /**
     Get quiz history and eligibility
     - GET /quiz/history
     - Get the user's quiz history, statistics, and eligibility status.  Returns: - Total quizzes taken - Average score and best score - Accuracy rate - Quizzes taken today - Whether user can take another quiz - Reason if quiz is not available
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - returns: RequestBuilder<QuizHistory>
     */
    open class func quizHistoryGetWithRequestBuilder() -> RequestBuilder<QuizHistory> {
        let localVariablePath = "/quiz/history"
        let localVariableURLString = LingibleAPIAPI.basePath + localVariablePath
        let localVariableParameters: [String: Any]? = nil

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: Any?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<QuizHistory>.Type = LingibleAPIAPI.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true)
    }

    /**
     Get current quiz session progress (stateless API)

     - parameter sessionId: (query) Quiz session identifier
     - parameter apiResponseQueue: The queue on which api response is dispatched.
     - parameter completion: completion handler to receive the data and the error objects
     */
    @discardableResult
    open class func quizProgressGet(sessionId: String, apiResponseQueue: DispatchQueue = LingibleAPIAPI.apiResponseQueue, completion: @escaping ((_ data: QuizSessionProgress?, _ error: Error?) -> Void)) -> RequestTask {
        return quizProgressGetWithRequestBuilder(sessionId: sessionId).execute(apiResponseQueue) { result in
            switch result {
            case let .success(response):
                completion(response.body, nil)
            case let .failure(error):
                completion(nil, error)
            }
        }
    }

    /**
     Get current quiz session progress (stateless API)
     - GET /quiz/progress
     - Get current progress statistics for an active quiz session.  Returns: - Questions answered so far - Correct count and accuracy - Total score accumulated - Time spent on quiz
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter sessionId: (query) Quiz session identifier
     - returns: RequestBuilder<QuizSessionProgress>
     */
    open class func quizProgressGetWithRequestBuilder(sessionId: String) -> RequestBuilder<QuizSessionProgress> {
        let localVariablePath = "/quiz/progress"
        let localVariableURLString = LingibleAPIAPI.basePath + localVariablePath
        let localVariableParameters: [String: Any]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "session_id": (wrappedValue: sessionId.encodeToJSON(), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: Any?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<QuizSessionProgress>.Type = LingibleAPIAPI.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true)
    }

    /**
     * enum for parameter difficulty
     */
    public enum Difficulty_quizQuestionGet: String, CaseIterable {
        case beginner = "beginner"
        case intermediate = "intermediate"
        case advanced = "advanced"
    }

    /**
     Get next quiz question (stateless API)

     - parameter difficulty: (query) Quiz difficulty level (optional, default to .beginner)
     - parameter apiResponseQueue: The queue on which api response is dispatched.
     - parameter completion: completion handler to receive the data and the error objects
     */
    @discardableResult
    open class func quizQuestionGet(difficulty: Difficulty_quizQuestionGet? = nil, apiResponseQueue: DispatchQueue = LingibleAPIAPI.apiResponseQueue, completion: @escaping ((_ data: QuizQuestionResponse?, _ error: Error?) -> Void)) -> RequestTask {
        return quizQuestionGetWithRequestBuilder(difficulty: difficulty).execute(apiResponseQueue) { result in
            switch result {
            case let .success(response):
                completion(response.body, nil)
            case let .failure(error):
                completion(nil, error)
            }
        }
    }

    /**
     Get next quiz question (stateless API)
     - GET /quiz/question
     - Get the next question for the current quiz session. Creates a new session if none exists or if the previous session has expired (>15 minutes inactive).  **Features:** - No upfront question count required - Automatic session management - Validates free tier daily question limits - Returns single question with normalized answer options  **Session Management:** - One active session per user - Auto-expires after 15 minutes of inactivity - Sessions auto-cleanup via DynamoDB TTL (24 hours)
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter difficulty: (query) Quiz difficulty level (optional, default to .beginner)
     - returns: RequestBuilder<QuizQuestionResponse>
     */
    open class func quizQuestionGetWithRequestBuilder(difficulty: Difficulty_quizQuestionGet? = nil) -> RequestBuilder<QuizQuestionResponse> {
        let localVariablePath = "/quiz/question"
        let localVariableURLString = LingibleAPIAPI.basePath + localVariablePath
        let localVariableParameters: [String: Any]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "difficulty": (wrappedValue: difficulty?.encodeToJSON(), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: Any?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<QuizQuestionResponse>.Type = LingibleAPIAPI.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true)
    }
}
